{"ast":null,"code":"import _slicedToArray from \"D:\\\\material-kit-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\material-kit-react-master\\\\src\\\\views\\\\SubscribePage\\\\SubscribePage.js\";\nimport React from \"react\"; // @material-ui/core components\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Icon from \"@material-ui/core/Icon\"; // @material-ui/icons\n\nimport Email from \"@material-ui/icons/Email\";\nimport People from \"@material-ui/icons/People\"; // core components\n\nimport Header from \"components/Header/Header.js\";\nimport SubscribeHeader from \"components/Header/SubscribeHeader.js\";\nimport Footer from \"components/Footer/Footer.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport axios from 'axios';\nimport { useState } from 'react';\nimport styles from \"assets/jss/material-kit-react/views/loginPage.js\";\nimport image from \"assets/img/bg7.jpg\";\nimport { auth, db } from \"../../Firebase.js\";\nvar useStyles = makeStyles(styles);\nexport default function SubscribePage(props) {\n  var _React$useState = React.useState(\"cardHidden\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      cardAnimaton = _React$useState2[0],\n      setCardAnimation = _React$useState2[1];\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      passemail = _useState2[0],\n      setPassEmail = _useState2[1];\n\n  function test() {\n    auth.onAuthStateChanged(function (user) {\n      if (!user) {\n        window.location.href = \"/\";\n      } //console.log(user.email);\n\n\n      db.collection('users').doc(user.uid).get().then(function (doc) {\n        setPassEmail(user.email);\n      });\n    });\n    console.log(passemail);\n  }\n\n  test(); //create customer function\n\n  function createCustomer() {\n    console.log(\"ss\");\n    console.log(passemail);\n    var billingEmail = passemail;\n    return fetch('/create-customer', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: billingEmail\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (result) {\n      return result;\n    });\n  }\n\n  function createCustomerUsingEmail() {\n    var customer; // Create customer\n\n    createCustomer().then(function (result) {\n      customer = result.customer; //window.location.href = '/prices.html?customerId=' + customer.id;\n    });\n  } //subscribe\n  // Create a Checkout Session with the selected plan ID\n\n\n  var createCheckoutSession = function createCheckoutSession(priceId) {\n    return fetch(\"/create-checkout-session\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        priceId: priceId\n      })\n    }).then(function (result) {\n      return result.json();\n    });\n  }; // Handle any errors returned from Checkout\n\n\n  var handleResult = function handleResult(result) {\n    if (result.error) {\n      var displayError = document.getElementById(\"error-message\");\n      displayError.textContent = result.error.message;\n    }\n  };\n  /* Get your Stripe publishable key to initialize Stripe.js */\n\n\n  fetch(\"/setup\").then(function (result) {\n    return result.json();\n  }).then(function (json) {\n    var publishableKey = json.publishableKey;\n    var basicPriceId = json.basicPrice;\n    var stripe = Stripe(publishableKey); // Setup event handler to create a Checkout Session when button is clicked\n\n    document.getElementById(\"basic-plan-btn\").addEventListener(\"click\", function (evt) {\n      createCheckoutSession(basicPriceId).then(function (data) {\n        // Call Stripe.js method to redirect to the new Checkout page\n        stripe.redirectToCheckout({\n          sessionId: data.sessionId\n        }).then(handleResult);\n      });\n    });\n  });\n  setTimeout(function () {\n    setCardAnimation(\"\");\n  }, 700);\n  var classes = useStyles();\n  var rest = Object.assign({}, props);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, Object.assign({\n    absolute: true,\n    color: \"transparent\",\n    brand: \"TLTT\",\n    rightLinks: /*#__PURE__*/React.createElement(SubscribeHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    })\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.pageHeader,\n    style: {\n      backgroundImage: \"url(\" + image + \")\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"top center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GridContainer, {\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes[cardAnimaton],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    id: \"signup-form\",\n    className: classes.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    color: \"primary\",\n    className: classes.cardHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, \"Subscribe\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CustomInput, {\n    value: passemail //onChange={e=>setRegisterName(e.target.value)}\n    //labelText=\"Name...\"\n    ,\n    id: \"name\",\n    formControlProps: {\n      fullWidth: true\n    },\n    inputProps: {\n      type: \"text\",\n      endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Email, {\n        className: classes.inputIconsColor,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 29\n        }\n      }))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(CardFooter, {\n    className: classes.cardFooter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: createCustomerUsingEmail,\n    simple: true,\n    color: \"primary\",\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, \"Confirm\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GridContainer, {\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes[cardAnimaton],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    id: \"payment-form\",\n    className: classes.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    color: \"primary\",\n    className: classes.cardHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }, \"Plan\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    color: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 23\n    }\n  }, \"Basic Plan\"), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 23\n    }\n  }, \"$5.00 per day billed daily\"))), /*#__PURE__*/React.createElement(CardFooter, {\n    className: classes.cardFooter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"basic-plan-btn\",\n    simple: true,\n    color: \"primary\",\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }\n  }, \"Subscribe\")))))))));\n}","map":{"version":3,"sources":["D:/material-kit-react-master/src/views/SubscribePage/SubscribePage.js"],"names":["React","makeStyles","InputAdornment","Icon","Email","People","Header","SubscribeHeader","Footer","GridContainer","GridItem","Button","Card","CardBody","CardHeader","CardFooter","CustomInput","axios","useState","styles","image","auth","db","useStyles","SubscribePage","props","cardAnimaton","setCardAnimation","passemail","setPassEmail","test","onAuthStateChanged","user","window","location","href","collection","doc","uid","get","then","email","console","log","createCustomer","billingEmail","fetch","method","headers","body","JSON","stringify","response","json","result","createCustomerUsingEmail","customer","createCheckoutSession","priceId","handleResult","error","displayError","document","getElementById","textContent","message","publishableKey","basicPriceId","basicPrice","stripe","Stripe","addEventListener","evt","data","redirectToCheckout","sessionId","setTimeout","classes","rest","pageHeader","backgroundImage","backgroundSize","backgroundPosition","container","form","cardHeader","fullWidth","type","endAdornment","inputIconsColor","cardFooter"],"mappings":"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","sourcesContent":["import React from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Icon from \"@material-ui/core/Icon\";\n// @material-ui/icons\nimport Email from \"@material-ui/icons/Email\";\nimport People from \"@material-ui/icons/People\";\n// core components\nimport Header from \"components/Header/Header.js\";\nimport SubscribeHeader from \"components/Header/SubscribeHeader.js\";\nimport Footer from \"components/Footer/Footer.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport axios from 'axios';\nimport { useState } from 'react';\n\nimport styles from \"assets/jss/material-kit-react/views/loginPage.js\";\n\nimport image from \"assets/img/bg7.jpg\";\nimport { auth, db } from \"../../Firebase.js\";\n\n\n\nconst useStyles = makeStyles(styles);\n\n\nexport default function SubscribePage(props) {\n\n  const [cardAnimaton, setCardAnimation] = React.useState(\"cardHidden\");\n  const [passemail, setPassEmail] = useState(\"\");\n  function test() {\n    auth.onAuthStateChanged(function (user) {\n      if (!user) {\n        window.location.href = \"/\";\n      }\n      //console.log(user.email);\n      db.collection('users').doc(user.uid).get().then(doc => {\n        setPassEmail(user.email);\n      })\n\n    })\n    console.log(passemail);\n  }\n  test();\n\n\n  //create customer function\n  function createCustomer() {\n    console.log(\"ss\");\n    console.log(passemail);\n    let billingEmail = passemail;\n\n    return fetch('/create-customer', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        email: billingEmail,\n      }),\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((result) => {\n        return result;\n      });\n  }\n  function createCustomerUsingEmail() {\n    let customer;\n    // Create customer\n    createCustomer().then((result) => {\n      customer = result.customer;\n      //window.location.href = '/prices.html?customerId=' + customer.id;\n    });\n  }\n\n  //subscribe\n  // Create a Checkout Session with the selected plan ID\n  var createCheckoutSession = function (priceId) {\n    return fetch(\"/create-checkout-session\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        priceId: priceId\n      })\n    }).then(function (result) {\n      return result.json();\n    });\n  };\n  // Handle any errors returned from Checkout\n  var handleResult = function (result) {\n    if (result.error) {\n      var displayError = document.getElementById(\"error-message\");\n      displayError.textContent = result.error.message;\n    }\n  };\n\n  /* Get your Stripe publishable key to initialize Stripe.js */\n  fetch(\"/setup\")\n    .then(function (result) {\n      return result.json();\n    })\n    .then(function (json) {\n      var publishableKey = json.publishableKey;\n      var basicPriceId = json.basicPrice;\n\n      var stripe = Stripe(publishableKey);\n      // Setup event handler to create a Checkout Session when button is clicked\n      document\n        .getElementById(\"basic-plan-btn\")\n        .addEventListener(\"click\", function (evt) {\n          createCheckoutSession(basicPriceId).then(function (data) {\n            // Call Stripe.js method to redirect to the new Checkout page\n            stripe\n              .redirectToCheckout({\n                sessionId: data.sessionId\n              })\n              .then(handleResult);\n          });\n        });\n    },)\n\n\n\n  setTimeout(function () {\n      setCardAnimation(\"\");\n    }, 700);\n  const classes = useStyles();\n  const { ...rest } = props;\n  return (\n    <div>\n      <Header\n        absolute\n        color=\"transparent\"\n        brand=\"TLTT\"\n        rightLinks={<SubscribeHeader />}\n        {...rest}\n      />\n      <div\n        className={classes.pageHeader}\n        style={{\n          backgroundImage: \"url(\" + image + \")\",\n          backgroundSize: \"cover\",\n          backgroundPosition: \"top center\"\n        }}\n      >\n        <div className={classes.container}>\n          <GridContainer justify=\"center\">\n            <GridItem xs={12} sm={12} md={4}>\n              <Card className={classes[cardAnimaton]}>\n                <form id=\"signup-form\" className={classes.form}>\n                  <CardHeader color=\"primary\" className={classes.cardHeader}>\n                    <h4>Subscribe</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <CustomInput\n                      value={passemail}\n                      //onChange={e=>setRegisterName(e.target.value)}\n                      //labelText=\"Name...\"\n                      id=\"name\"\n                      formControlProps={{\n                        fullWidth: true\n                      }}\n                      inputProps={{\n                        type: \"text\",\n                        endAdornment: (\n                          <InputAdornment position=\"end\">\n                            <Email className={classes.inputIconsColor} />\n                          </InputAdornment>\n                        )\n                      }}\n                    />\n                  </CardBody>\n                  <CardFooter className={classes.cardFooter}>\n                    <Button onClick={createCustomerUsingEmail} simple color=\"primary\" size=\"lg\">\n                      Confirm\n                        </Button>\n                  </CardFooter>\n                </form>\n              </Card>\n            </GridItem>\n          </GridContainer>\n        </div>\n\n        <div className={classes.container}>\n          <GridContainer justify=\"center\">\n            <GridItem xs={12} sm={12} md={4}>\n              <Card className={classes[cardAnimaton]}>\n                <form id=\"payment-form\" className={classes.form}>\n                  <CardHeader color=\"primary\" className={classes.cardHeader}>\n                    <h4>Plan</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Card>\n                      <CardHeader color=\"info\">Basic Plan</CardHeader>\n                      <CardBody>$5.00 per day billed daily</CardBody>\n                    </Card>\n                  </CardBody>\n                  <CardFooter className={classes.cardFooter}>\n                    <Button id=\"basic-plan-btn\" simple color=\"primary\" size=\"lg\">\n                      Subscribe\n                        </Button>\n                  </CardFooter>\n                </form>\n              </Card>\n            </GridItem>\n          </GridContainer>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}