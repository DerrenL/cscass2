{"ast":null,"code":"import _slicedToArray from \"D:\\\\material-kit-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\material-kit-react-master\\\\src\\\\views\\\\Components\\\\AfterLogin.js\";\nimport React from \"react\"; // nodejs library that concatenates classes\n\nimport classNames from \"classnames\"; // @material-ui/core components\n\nimport { makeStyles } from \"@material-ui/core/styles\"; // @material-ui/icons\n// core components\n\nimport Header from \"components/Header/Header.js\";\nimport Footer from \"components/Footer/Footer.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Parallax from \"components/Parallax/Parallax.js\"; // @material-ui/core components\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Disqus from \"disqus-react\"; // @material-ui/icons\n\nimport { Apps, ExitToApp, Subscriptions } from \"@material-ui/icons\"; // core components\n\nimport styles2 from \"assets/jss/material-kit-react/components/headerLinksStyle.js\";\nimport { useState } from 'react';\nimport { auth, db } from \"../../Firebase.js\";\nimport AfterLoginSectionBasics from \"./Sections/AfterLoginSectionBasics.js\";\nimport styles from \"assets/jss/material-kit-react/views/components.js\";\nvar useStyles = makeStyles(styles);\nvar useStyles2 = makeStyles(styles2);\nexport default function AfterLogin(props) {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      displayname = _useState2[0],\n      setDisplayName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      role = _useState4[0],\n      setRole = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      subscribe = _useState6[0],\n      setSubscribe = _useState6[1];\n\n  var classes2 = useStyles2();\n\n  function logout() {\n    auth.signOut(); //window.location.href='/login-page'\n  }\n\n  function test() {\n    auth.onAuthStateChanged(function (user) {\n      if (!user) {\n        window.location.href = \"/\";\n      } //console.log(user.email);\n\n\n      db.collection('users').doc(user.email).get().then(function (doc) {\n        setDisplayName(doc.data().name);\n        setRole(doc.data().role);\n      });\n      db.collection('StripePayment').doc(user.email).get().then(function (doc) {\n        if (doc.data() != undefined) {\n          db.collection(\"users\").doc(user.uid).update({\n            role: 'subscribed'\n          });\n        }\n      });\n    });\n  }\n\n  test();\n\n  function haveSubscribe() {\n    if (role == \"Free Registered User\") {\n      return /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick(event) {\n          return window.location.href = '/subscribe-page';\n        },\n        color: \"transparent\",\n        target: \"_blank\",\n        className: classes2.navLink,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(Subscriptions, {\n        className: classes2.icons,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 5\n        }\n      }), \" Subscribe\");\n    } else {}\n  }\n\n  function display() {\n    return /*#__PURE__*/React.createElement(List, {\n      className: classes2.list,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(ListItem, {\n      className: classes2.listItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      id: \"instagram-twitter\",\n      title: \"Follow us on twitter\",\n      placement: window.innerWidth > 959 ? \"top\" : \"left\",\n      classes: {\n        tooltip: classes2.tooltip\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      href: \"https://twitter.com/CreativeTim?ref=creativetim\",\n      target: \"_blank\",\n      color: \"transparent\",\n      className: classes2.navLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: classes2.socialIcons + \" fab fa-twitter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    })))), /*#__PURE__*/React.createElement(ListItem, {\n      className: classes2.listItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      id: \"instagram-facebook\",\n      title: \"Follow us on facebook\",\n      placement: window.innerWidth > 959 ? \"top\" : \"left\",\n      classes: {\n        tooltip: classes2.tooltip\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"transparent\",\n      href: \"https://www.facebook.com/CreativeTim?ref=creativetim\",\n      target: \"_blank\",\n      className: classes2.navLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: classes2.socialIcons + \" fab fa-facebook\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    })))), /*#__PURE__*/React.createElement(ListItem, {\n      className: classes2.listItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      id: \"instagram-tooltip\",\n      title: \"Follow us on instagram\",\n      placement: window.innerWidth > 959 ? \"top\" : \"left\",\n      classes: {\n        tooltip: classes2.tooltip\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"transparent\",\n      href: \"https://www.instagram.com/CreativeTimOfficial?ref=creativetim\",\n      target: \"_blank\",\n      className: classes2.navLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: classes2.socialIcons + \" fab fa-instagram\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    })))), /*#__PURE__*/React.createElement(Button, {\n      color: \"transparent\",\n      target: \"_blank\",\n      className: classes2.navLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }\n    }, \"Welcome ,\" + displayname.toString() + ' (' + role.toString() + ')'), haveSubscribe(), /*#__PURE__*/React.createElement(Button, {\n      onClick: logout,\n      color: \"transparent\",\n      target: \"_blank\",\n      className: classes2.navLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ExitToApp, {\n      className: classes2.icons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }\n    }), \" Log Out\"));\n  } //disqus\n\n\n  var disqusShortname = \"tltt\";\n  var disqusConfig = {\n    url: \"http://localhost:3000\",\n    identifier: \"test\",\n    title: \"TLTT\"\n  };\n\n  function disqus() {\n    if (role == \"subscribed\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"article-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 9\n        }\n      }, \"Discussion about The Life Time Talents\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 9\n        }\n      }, \"Comment now!\"), /*#__PURE__*/React.createElement(Disqus.DiscussionEmbed, {\n        shortname: disqusShortname,\n        config: disqusConfig,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 9\n        }\n      }));\n    } else {}\n  } //recombee\n\n\n  var recombee = require('recombee-api-client');\n\n  var rqs = recombee.requests;\n  var client = new recombee.ApiClient('csc-assignment2-dev  ', 'LslaDRa4LOfTo6ZYEHOFmP0O79XZ3hzZkCfrO1cG5WXwWHHSxZtuJOUaWIfyQFTD'); // Prepare some userIDs and itemIDs\n\n  var NUM = 100;\n  var userIds = Array.apply(0, Array(NUM)).map(function (_, i) {\n    return \"user-\".concat(i);\n  });\n  var itemIds = Array.apply(0, Array(NUM)).map(function (_, i) {\n    return \"item-\".concat(i);\n  }); // Generate some random purchases of items by users\n\n  var PROBABILITY_PURCHASED = 0.1;\n  var purchases = [];\n  userIds.forEach(function (userId) {\n    var purchased = itemIds.filter(function () {\n      return Math.random() < PROBABILITY_PURCHASED;\n    });\n    purchased.forEach(function (itemId) {\n      purchases.push(new rqs.AddPurchase(userId, itemId, {\n        'cascadeCreate': true\n      }));\n    });\n  }); // Send the data to Recombee, use Batch for faster processing of larger data\n\n  client.send(new rqs.Batch(purchases)).then(function () {\n    //Get 5 recommended items for user 'user-25'\n    client.send(new rqs.RecommendItemsToUser('user-25', 5)).then(function (recommended) {\n      console.log(\"Recommended items for user-25: %j\", recommended);\n    });\n  })[\"catch\"](function (error) {\n    console.error(error); // Use fallback\n  });\n  var classes = useStyles();\n  var rest = Object.assign({}, props);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, Object.assign({\n    brand: \"TLTT\",\n    rightLinks: display(),\n    fixed: true,\n    color: \"transparent\",\n    changeColorOnScroll: {\n      height: 400,\n      color: \"white\"\n    }\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Parallax, {\n    image: require(\"assets/img/bg6.jpg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GridContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GridItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.brand,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  }, \"The Life Time Talents.\"), /*#__PURE__*/React.createElement(\"h3\", {\n    className: classes.subtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 17\n    }\n  }, \"Share, comment, and spread smiling images of different talents\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(classes.main, classes.mainRaised),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AfterLoginSectionBasics, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 9\n    }\n  })), disqus());\n}","map":{"version":3,"sources":["D:/material-kit-react-master/src/views/Components/AfterLogin.js"],"names":["React","classNames","makeStyles","Header","Footer","GridContainer","GridItem","Button","Parallax","List","ListItem","Tooltip","Disqus","Apps","ExitToApp","Subscriptions","styles2","useState","auth","db","AfterLoginSectionBasics","styles","useStyles","useStyles2","AfterLogin","props","displayname","setDisplayName","role","setRole","subscribe","setSubscribe","classes2","logout","signOut","test","onAuthStateChanged","user","window","location","href","collection","doc","email","get","then","data","name","undefined","uid","update","haveSubscribe","event","navLink","icons","display","list","listItem","innerWidth","tooltip","socialIcons","toString","disqusShortname","disqusConfig","url","identifier","title","disqus","recombee","require","rqs","requests","client","ApiClient","NUM","userIds","Array","apply","map","_","i","itemIds","PROBABILITY_PURCHASED","purchases","forEach","userId","purchased","filter","Math","random","itemId","push","AddPurchase","send","Batch","RecommendItemsToUser","recommended","console","log","error","classes","rest","height","color","container","brand","subtitle","main","mainRaised"],"mappings":"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","sourcesContent":["import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n// core components\nimport Header from \"components/Header/Header.js\";\nimport Footer from \"components/Footer/Footer.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Parallax from \"components/Parallax/Parallax.js\";\n// @material-ui/core components\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Disqus from \"disqus-react\";\n// @material-ui/icons\nimport { Apps, ExitToApp, Subscriptions } from \"@material-ui/icons\";\n\n// core components\nimport styles2 from \"assets/jss/material-kit-react/components/headerLinksStyle.js\";\nimport {useState} from 'react';\nimport {auth,db} from \"../../Firebase.js\";\n\nimport AfterLoginSectionBasics from \"./Sections/AfterLoginSectionBasics.js\";\n\nimport styles from \"assets/jss/material-kit-react/views/components.js\";\n\nconst useStyles = makeStyles(styles);\nconst useStyles2 = makeStyles(styles2)\n\nexport default function AfterLogin(props) {\n\n  const [displayname,setDisplayName] = useState(\"\");\n  const [role,setRole] = useState(\"\");\n  const [subscribe,setSubscribe] = useState(\"\");\n  const classes2 = useStyles2();\n  \n  function logout(){\n    auth.signOut();\n    //window.location.href='/login-page'\n  }\n  function test(){\n    auth.onAuthStateChanged(function(user){\n      if(!user){\n          window.location.href=\"/\";\n      }\n      //console.log(user.email);\n      db.collection('users').doc(user.email).get().then(doc=>{\n        setDisplayName(doc.data().name);\n        setRole(doc.data().role);\n      })\n      db.collection('StripePayment').doc(user.email).get().then(doc=>{\n        \n        if(doc.data() != undefined){\n          \n          db.collection(\"users\").doc(user.uid).update({\n            role: 'subscribed'\n          });\n        }\n        \n      })\n      \n      \n  })\n  }\n  test();\n\n  function haveSubscribe(){\n    if(role==\"Free Registered User\"){\n      return  (<Button\n    onClick={event =>  window.location.href='/subscribe-page'}\n    color=\"transparent\"\n    target=\"_blank\"\n    className={classes2.navLink}\n  >\n    <Subscriptions className={classes2.icons} /> Subscribe\n  </Button>)\n  }\n  else{\n    \n  }\n}\n\n  function display(){\n    return(\n    <List className={classes2.list}>\n      <ListItem className={classes2.listItem}>\n        <Tooltip\n          id=\"instagram-twitter\"\n          title=\"Follow us on twitter\"\n          placement={window.innerWidth > 959 ? \"top\" : \"left\"}\n          classes={{ tooltip: classes2.tooltip }}\n        >\n          <Button\n            href=\"https://twitter.com/CreativeTim?ref=creativetim\"\n            target=\"_blank\"\n            color=\"transparent\"\n            className={classes2.navLink}\n          >\n            <i className={classes2.socialIcons + \" fab fa-twitter\"} />\n          </Button>\n        </Tooltip>\n      </ListItem>\n      <ListItem className={classes2.listItem}>\n        <Tooltip\n          id=\"instagram-facebook\"\n          title=\"Follow us on facebook\"\n          placement={window.innerWidth > 959 ? \"top\" : \"left\"}\n          classes={{ tooltip: classes2.tooltip }}\n        >\n          <Button\n            color=\"transparent\"\n            href=\"https://www.facebook.com/CreativeTim?ref=creativetim\"\n            target=\"_blank\"\n            className={classes2.navLink}\n          >\n            <i className={classes2.socialIcons + \" fab fa-facebook\"} />\n          </Button>\n        </Tooltip>\n      </ListItem>\n      <ListItem className={classes2.listItem}>\n        <Tooltip\n          id=\"instagram-tooltip\"\n          title=\"Follow us on instagram\"\n          placement={window.innerWidth > 959 ? \"top\" : \"left\"}\n          classes={{ tooltip: classes2.tooltip }}\n        >\n          <Button\n            color=\"transparent\"\n            href=\"https://www.instagram.com/CreativeTimOfficial?ref=creativetim\"\n            target=\"_blank\"\n            className={classes2.navLink}\n          >\n            <i className={classes2.socialIcons + \" fab fa-instagram\"} />\n          </Button>\n        </Tooltip>\n      </ListItem>\n\n      <Button\n          color=\"transparent\"\n          target=\"_blank\"\n          className={classes2.navLink}\n        >\n         {\"Welcome ,\"+displayname.toString()+' ('+role.toString()+')'}\n        </Button>\n\n      {haveSubscribe()}\n      \n      <Button\n          onClick={logout}\n          color=\"transparent\"\n          target=\"_blank\"\n          className={classes2.navLink}\n        >\n          <ExitToApp className={classes2.icons} /> Log Out\n        </Button>\n\n    </List>\n    )\n  }\n\n  //disqus\n  const disqusShortname = \"tltt\"\n  const disqusConfig = {\n    url: \"http://localhost:3000\",\n    identifier: \"test\",\n    title: \"TLTT\"\n  }\n\n  function disqus(){\n    if(role==\"subscribed\"){\n      return(\n        <div className=\"article-container\">\n    \n        <h1>Discussion about The Life Time Talents</h1>\n    \n        <p>Comment now!</p>\n    \n        <Disqus.DiscussionEmbed\n          shortname={disqusShortname}\n          config={disqusConfig}\n        />\n      </div>\n      )\n    }\n    else{}\n  }\n\n  //recombee\n  var recombee = require('recombee-api-client');\n  var rqs = recombee.requests;\n\n  var client = new recombee.ApiClient('csc-assignment2-dev  ', 'LslaDRa4LOfTo6ZYEHOFmP0O79XZ3hzZkCfrO1cG5WXwWHHSxZtuJOUaWIfyQFTD');\n\n  // Prepare some userIDs and itemIDs\n  const NUM = 100;\n  var userIds = Array.apply(0, Array(NUM)).map((_, i) => {\n    return `user-${i}`;\n  });\n\n  var itemIds = Array.apply(0, Array(NUM)).map((_, i) => {\n    return `item-${i}`;\n  });\n\n\n  // Generate some random purchases of items by users\n  const PROBABILITY_PURCHASED = 0.1;\n  var purchases = [];\n  userIds.forEach((userId) => {\n    var purchased = itemIds.filter(() => Math.random() < PROBABILITY_PURCHASED);\n    purchased.forEach((itemId) => {\n\n      purchases.push(new rqs.AddPurchase(userId, itemId, {'cascadeCreate': true}))\n\n    });\n  });\n\n  // Send the data to Recombee, use Batch for faster processing of larger data\n  client.send(new rqs.Batch(purchases))\n    .then(() => {\n      //Get 5 recommended items for user 'user-25'\n      client.send(new rqs.RecommendItemsToUser('user-25', 5))\n        .then((recommended) => {\n          console.log(\"Recommended items for user-25: %j\", recommended);\n        });\n    })\n    .catch((error) => {\n      console.error(error);\n      // Use fallback\n    });\n  \n  \n  const classes = useStyles();\n  const { ...rest } = props;\n  return (\n    <div>\n      <Header\n        brand=\"TLTT\"\n        rightLinks={display()}\n        fixed\n        color=\"transparent\"\n        changeColorOnScroll={{\n          height: 400,\n          color: \"white\"\n        }}\n        {...rest}\n      />\n      <Parallax image={require(\"assets/img/bg6.jpg\")}>\n        <div className={classes.container}>\n          <GridContainer>\n            <GridItem>\n              <div className={classes.brand}>\n                <h1 className={classes.title}>The Life Time Talents.</h1>\n                <h3 className={classes.subtitle}>\n                Share, comment, and spread smiling images of different talents\n                </h3>\n              </div>\n            </GridItem>\n          </GridContainer>\n        </div>\n      </Parallax>\n\n      <div className={classNames(classes.main, classes.mainRaised)}>\n        <AfterLoginSectionBasics />\n        {/* <SectionNavbars />\n        <SectionTabs />\n        <SectionPills />\n        <SectionNotifications />\n        <SectionTypography />\n        <SectionJavascript />\n        <SectionCarousel />\n        <SectionCompletedExamples />\n        <SectionLogin /> */}\n        {/* <GridItem md={12} className={classes.textCenter}>\n          <Link to={\"/login-page\"} className={classes.link}>\n            <Button color=\"primary\" size=\"lg\" simple>\n              View Login Page\n            </Button>\n          </Link>\n        </GridItem>\n        <SectionExamples />\n        <SectionDownload /> */}\n      </div>\n      {/* <Footer /> */}\n      \n        {disqus()}\n      \n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}